<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="../../../css/User/MarketDetails.css">

    <!-- Tiny Carousel -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.4/tiny-slider.css">
    <!--[if (lt IE 9)]><script src="https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.4/min/tiny-slider.helper.ie8.js"></script><![endif]-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.2/min/tiny-slider.js"></script>

    <!-- PostBoot -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.rawgit.com/tarkhov/postboot/v1.0.3/dist/css/postboot.min.css"/>

    <!-- Bootstrap Star Rating -->
    <!-- default styles -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-star-rating@4.1.2/css/star-rating.min.css" media="all" rel="stylesheet" type="text/css" />

    <!-- with v4.1.0 Krajee SVG theme is used as default (and must be loaded as below) - include any of the other theme CSS files as mentioned below (and change the theme property of the plugin) -->
    <link href="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-star-rating@4.1.2/themes/krajee-svg/theme.css" media="all" rel="stylesheet" type="text/css" />

    <!-- important mandatory libraries -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-star-rating@4.1.2/js/star-rating.min.js" type="text/javascript"></script>

    <!-- with v4.1.0 Krajee SVG theme is used as default (and must be loaded as below) - include any of the other theme JS files as mentioned below (and change the theme property of the plugin) -->
    <script src="https://cdn.jsdelivr.net/gh/kartik-v/bootstrap-star-rating@4.1.2/themes/krajee-svg/theme.js"></script>

    <title>Market Details</title>
</head>
<body>
    <nav class="freshpicks-navbar">
        <img src="../../../assets/FreshPickLogo 1.svg" alt="Fresh Picks Logo">
    </nav>

    <header class="masthead">
        <div class="container h-100">
          <div class="row h-100 align-items-center">
            <div class="col-12 text-center">
                <h1 id="marketName"></h1>
                <button class="btn custom-button" id="customBtn">Get Directions</button>
                <div id="averageRating" class="star-rating"></div>
                <div id="averageRatingText"></div>
            </div>
          </div>
        </div>
    </header>

    <div class="container mt-3">
        <div class="alert alert-success" role="alert">
            <div class="d-flex justify-content-around align-items-center desktop-view">
                <div id="infobox-marketLocation">
                    <!-- Location content -->
                </div>
            </div>
            <hr> <!-- Horizontal line separator -->
            <div class="d-flex justify-content-around align-items-center desktop-view">
                <div id="infobox-marketTime">
                    <!-- Time content -->
                </div>
                <div>
                    <strong>|</strong>
                </div>
                <div id="infobox-marketDate">
                    <!-- Date content -->
                </div>
            </div>
        </div>
    </div>

    <div class="container mt-3">
        <h2>Description</h2>
        <div class="custom-box">
            <div class="custom-box-body">
                <p id="description"></p>
            </div>
        </div>
    </div>

    <div class="container mt-3">
        <h2>Food Categories</h2>
        <div class="row" id="categories"></div>
    </div>

    <div class="container mt-3">
        <h2>Partners</h2>
        <div class="row" id="vendors"></div>
    </div>

    <div class="container mt-3">
    <h2>Images</h2>
        <div id="marketImageCarousel" class="tiny-slider">
              <div id="images"></div>
        </div>
    </div>

    <div class="container mt-3">
        <h2>FAQ</h2>
        <div class="custom-box">
            <div class="custom-box-body">
                <div class="accordion accordion-flush" id="faq"></div>
            </div>
        </div>
    </div>

    <div class="container mt-5">
    <!-- Button to trigger the modal -->
    <h2>Rate & Reviews</h2>
    <button type="button" class="btn custom-button mb-1" data-bs-toggle="modal" data-bs-target="#myModal">
        Add Review
    </button>
        <div class="row">
          <div class="col" id="reviewCards">
            <!-- Review cards will be dynamically added here -->
          </div>
        </div>
    </div>
    
    <!-- The Modal -->
    <div class="modal" id="myModal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header grid-container">
                    <h4 class="modal-title">Add a Review</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="reviewForm">
                        <div class="mb-3">
                            <label for="userName" class="form-label">Your Name:</label>
                            <input type="text" class="form-control" id="userName">
                        </div>
                        <div class="mb-3">
                            <label for="userComment" class="form-label">Your Comment:</label>
                            <textarea class="form-control" id="userComment"></textarea>
                        </div>
                        <div class="mb-3">
                            <!-- Add the star rating input here -->
                            <input id="userRating" type="text" class="rating" data-size="md" >
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn custom-button" id="saveReview">Save Review</button>
                </div>
            </div>
        </div>
    </div>

    <div class="container mt-3 grid-container">
        <div class="rounded" id="showMaps" style="height: 500px;"></div>
        <button id="getDirectionsBtn" class="btn custom-button mt-1">Get Directions</button>
    </div>

    <div id="vendorModal" class="modal">
        <div class="modal-content">
            <h2>Vendor Information</h2>
            <span id="closeBtn" class="close-button">&times;</span>
            <div id="vendorImage" class="vendor-image"></div>
          <div id="vendorName" class="vendor-name"></div>
          <div id="vendorCategories" class="vendor-categories"></div>
          <div id="vendorDescription" class="vendor-description"></div>
        </div>
      </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <script type="module" src="../../src/UserModules/MarketDetails/MarketDetails.js"></script>
</body>
</html>
